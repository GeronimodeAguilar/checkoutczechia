<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles/css/style.css">  
  <title>Olomouc</title>
  <script>
      window.onload = function() {
          let element = document.createElement("script");
          element.src = "../scripts/before/main.js";
          document.body.appendChild(element);
          loaderbox.hidden = true;   
      };  
  </script>
</head>

<body>
    <div class="wrapsite">

            <header>
                    <div class="css-carrusel">
                            <figure class="only-css-slider">
                                <figure class="css-slide">
                                    <img src="../img/cont/60.jpg" alt>
                                </figure>
                                <figure class="css-slide">
                                    <img src="../img/cont/71.jpg" alt>
                                </figure>
                                <figure class="css-slide">
                              <img src="../img/cont/58.jpg" alt>
                                </figure>
                                <figure class="css-slide">
                                    <img src="../img/cont/69.jpg" alt>
                                </figure>
                                <figure class="css-slide">
                                    <img src="../img/cont/66.jpg" alt>
                                </figure>
                            </figure>
                        </div>
          <h2 class="header-title">  <div class="textfield" ></div></h2>    
          <button class="down-arrow" id="arrow-scrol-down">&#9650;</button>    
            </header> 
    
    <nav class="menu" id="navbox">
      <a class="flag-link" href="#"><img src="../img/bkg/czech-republic-flag640.png" class="flag-menu"></a>
        <div class="dropdownBackground">
          <span class="arrow"></span>
        </div>

        <ul class="submenu-box" id="menu-list">
          <li>
            <a href="">Geography</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">History</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">Citys</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">Nature</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">Government</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
        </ul>
      </nav>  

   
      <h3>Olomouc</h3>
<div class="panorama-animation-box"></div>
      <p class="hidden">   
Center of religius institutions throughout centuries. Home of the Arcibishup. Mythical murder location of  Vaclav king of Bohemia.


<div class="c-zoom">
          <div class="c-zoom__thumbnails-list">
            
             <div class="c-zoom__thumbnail-item">
                <a href="#x" class="c-zoom__thumbnail-link">
                  <img  src="../img/cont/60.jpg" class="c-zoom__thumbnail"/>
                </a>        
             </div>
            
             <div class="c-zoom__thumbnail-item">
                <a href="#x" class="c-zoom__thumbnail-link">
                  <img  src="../img/cont/71.jpg" class="c-zoom__thumbnail"/>
                </a>        
             </div>
            
             <div class="c-zoom__thumbnail-item">
                <a href="#x" class="c-zoom__thumbnail-link">
                  <img  src="../img/cont/73.jpg" class="c-zoom__thumbnail"/>
                </a>        
             </div>
        
          </div>
    <div class="c-zoom__zoomed-image"></div>       
        </div>  
  <h3>History</h3>

  <figure>
    <img class="contentimg align-right slide-in"  id="pic" src="../img/cont/168.jpg" alt="">
    <figcaption>Mahen Theatre</figcaption>
  </figure>

    <p class="hidden">
        During the thousand years of its existence, the city grew from a settlement stretching from Prague Castle in the north to the fort of Vy≈°ehrad in the south, becoming the capital of a modern European country, the Czech Republic, a member state of the European Union..</p>

        <div class="gallery-list" id="gallery-list-wrap">
            <div class="list__item"><img src="../img/cont/77.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/78.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/79.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/80.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/81.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/82.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/83.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/84.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/85.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/86.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/87.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/88.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/89.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/90.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/74.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/75.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/76.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/97.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/91.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/92.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/93.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/94.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/95.jpg" alt="" class="list-pic"></div>
            <div class="list__item"><img src="../img/cont/96.jpg" alt="" class="list-pic"></div>
            </div>
            <div class="butt-wrap">
              <button id="activate-gallery-button" class="activate-gallery">CLICK ME</button>
            </div> 
        
        <div id="showcase">
              
          <div class="auto-slide fade-pic">
            <p class="auto-caption">one</p>
            <img class="auto-pic" src="../img/cont/67.jpg">
          </div>
  
          <div class="auto-slide fade-pic">
            <p class="auto-caption">two</p> 
            <img class="auto-pic" src="../img/cont/66.jpg">
          </div>     
  
          <div class="auto-slide fade-pic">
            <p class="auto-caption">three</p>
            <img class="auto-pic" src="../img/cont/69.jpg">
          </div>  
          
          <div class="auto-slide fade-pic">
            <p class="auto-caption">four</p>
            <img class="auto-pic" src="../img/cont/68.jpg">
          </div>  



    
            <div id="auto-left">&#9664;</div>
            <div id="auto-right">&#9654;</div>
  
        <div id="dot-box">
          <span class="auto-dot">1</span> 
          <span class="auto-dot">2</span> 
          <span class="auto-dot">3</span> 
          <span class="auto-dot">4</span> 
        </div>
  
    </div>

<footer>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2058314.3021129183!2d13.57809096500988!3d49.91064209129525!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470b948fd7dd8243%3A0xf8661c75d3db586f!2sCzechia!5e0!3m2!1sen!2scz!4v1526812826093"></iframe>
    <a href="http://www.checkczechia.cz/"><img src="../img/lgo/mapxflag.png" alt="map"></a>
    <a href="https://www.tripadvisor.com/Tourism-g274684-Czech_Republic-Vacations.html">tripadvisor.com</a>
    
</footer> 

    </div>  

    <div class="loader" id="loaderbox" >
      <div class="loader-inner">
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
      </div>
    </div>    

    <button class="toTop" id="tiptop">&#9650;</button>

        <a class="toggle" href="#example" id="burger">‚ò∞</a>
      <div class="toggle-content" id="example">
<ul class="mobile-menu">
<li class="sub-list"> <h4>Geography</h4>
<ul class="sub-mobil-menu">
   <li><a href="">Czech republic1</a></li>
    <li><a href="">Czech republic2</a></li>
    <li><a href="">Czech republic3</a></li>
    <li><a href="">Czech republic4</a></li>
    <li><a href="">Czech republic5</a></li>    
</ul>
</li>  

<li class="sub-list"> <h4>History</h4>
    <ul class="sub-mobil-menu">
       <li><a href="">Czech republic1</a></li>
        <li><a href="">Czech republic2</a></li>
        <li><a href="">Czech republic3</a></li>
        <li><a href="">Czech republic4</a></li>
        <li><a href="">Czech republic5</a></li>    
    </ul>
    </li> 

<li class="sub-list"> <h4>Government</h4>
        <ul class="sub-mobil-menu">
           <li><a href="">Czech republic1</a></li>
            <li><a href="">Czech republic2</a></li>
            <li><a href="">Czech republic3</a></li>
            <li><a href="">Czech republic4</a></li>
            <li><a href="">Czech republic5</a></li>    
        </ul>
        </li> 

<li class="sub-list"> <h4>Travel</h4>
            <ul class="sub-mobil-menu">
               <li><a href="">Czech republic1</a></li>
                <li><a href="">Czech republic2</a></li>
                <li><a href="">Czech republic3</a></li>
                <li><a href="">Czech republic4</a></li>
                <li><a href="">Czech republic5</a></li>    
            </ul>
            </li> 
 
</ul>
      </div>
      <script>
        const message = `Olomouc : religious institution throughout history`;
        const textContainer = document.querySelector('.textfield');
        let n;
        
        function rerun(){
          textContainer.textContent = '';
          n = 0;
          typist(message, textContainer);
        };
        
        rerun();
        
        function interval(letter){
          if(letter == ';' || letter == '.' || letter == ','){
            return Math.floor((Math.random() * 500) + 500);
          } else {
            return Math.floor((Math.random() * 130) + 100);
          }
        }
        
        function typist(text, target){
          if(typeof(text[n]) != 'undefined'){
            target.textContent += text[n];
          }
          n++;
          if(n < text.length){
            setTimeout(function(){
              typist(text, target)
            }, interval(text[n - 1]));
          } 
        }

/*change-class-iteartion-gallery*/

    let goButton = document.getElementById("activate-gallery-button");
goButton.addEventListener("click", function(e) {
    showUp();
});


function showUp(elements, speed, addingClass) {
  // default
  defaults = {
    speed: speed || 250,
    elements: elements || ".list__item",
    addingClass: addingClass || "expand"
    }
  
   function addClass (listItemS, speed, addingClass) {
      return setTimeout(function() {
        listItemS.classList.toggle(addingClass);
      }, speed * i);
   };
  
     let list = document.querySelectorAll(defaults.elements);
     for (var i = 0; i < list.length; i++) {
        let listItems = list[i];
        addClass(listItems, defaults.speed, defaults.addingClass);
    }
};

/*auto arrow slider*/
    
  
  let autoImg = document.querySelectorAll('.auto-slide');
  let allDots = document.querySelectorAll('.auto-dot');
  let arrowLeft = document.querySelector('#auto-left');
  let arrowRight = document.querySelector('#auto-right');
  let autoArrowCarrusel = document.querySelector('#showcase');
  let changeSeconds = 5000;
  let timeInterval = setInterval(auto, changeSeconds);
  let currentPic = 0;
  // Skips the first fade animation after page loads 
  // Note: If the CSS animation plays at x seconds, the timeout should be set longer than x seconds. I would add at least 0.5 more seconds just to be safe 
  // Note: This function will disable if the content inside the timeout function was added on any event handler
  function delay() {
    setTimeout(function () {
      document.body.className = "";
    }, 1000);
  }
  
  // Init slider
  function reset() {
    for (let i = 0; i < autoImg.length; i++) {
      autoImg[0].style.display = 'none';
      allDots[0].id = '';
    }
  }
  
  // Automate slider
  function auto() {
    currentPic = (currentPic + 1) % allDots.length;
    start();
  }
  
  // Start slider
  function start() {
    reset();
    for (let i = 0; i < allDots.length; i++) {
      if (currentPic === i) {
        autoImg[i].style.display = 'grid';
        allDots[i].id = 'active-auto';
      } else {
        autoImg[i].style.display = 'none';
        allDots[i].id = '';
      }
    }
  }
  
  // Manual slider
  let _loop = function _loop(i) {
    allDots[i].addEventListener('click', function (e) {
      document.body.className = "";
      if (currentPic === i || e.target.className !== 'auto-dot') {
        return;
      } else {
        clearInterval(timeInterval);
        timeInterval = setInterval(auto, changeSeconds);
      }
      currentPic = i;
      start();
    });
  };
  
  for (let i = 0; i < allDots.length; i++) {
    _loop(i);
  }
  
  // Left arrow click
  arrowLeft.addEventListener('click', function () {
    document.body.className = "";
    if (currentPic === 0) {
      currentPic = allDots.length - 1;
    } else {
      currentPic--;
    }
    start();
  });
  
  // arrowRight arrow click
  arrowRight.addEventListener('click', function () {
    document.body.className = "";
    if (currentPic === allDots.length - 1) {
      currentPic = 0;
    } else {
      currentPic++;
    }
    start();
  });
  
  // Stop automatic slide when hovered
  for (let i = 0; i < autoImg.length; i++) {
    autoImg[i].addEventListener('mouseover', function () {
      clearInterval(timeInterval);
    });
    start();
  };
  
  // Start automatic slide when not hovered
  for (let _i = 0; _i < autoImg.length; _i++) {
    autoImg[_i].addEventListener('mouseout', function () {
      clearInterval(timeInterval);
      timeInterval = setInterval(auto, changeSeconds);
    });
    start();
  };
  
  // Stop automatic slider when arrowLeft arrow hovered
  arrowLeft.addEventListener('mouseenter', function () {
    clearInterval(timeInterval);
  });
  
  // Stop automatic slider when arrowRight arrow hovered
  arrowRight.addEventListener('mouseenter', function () {
    clearInterval(timeInterval);
  });
  
  // Stop automatic slider when arrowLeft arrow hovered
  arrowLeft.addEventListener('mouseleave', function () {
    clearInterval(timeInterval);
    timeInterval = setInterval(auto, changeSeconds);
  });
  
  // Stop automatic slider when arrowRight arrow hovered
  arrowRight.addEventListener('mouseleave', function () {
    clearInterval(timeInterval);
    timeInterval = setInterval(auto, changeSeconds);
  });

function handleKey(e) {
  if(e.key === 'ArrowLeft') {
    document.body.className = "";
    if (currentPic === 0) {
      currentPic = allDots.length - 1;
    } else {
      currentPic--;
    }
    start();
        }
  if(e.key === 'ArrowRight') {
    document.body.className = "";
    if (currentPic === allDots.length - 1) {
      currentPic = 0;
    } else {
      currentPic++;
    }
    start();
        }
}  

document.addEventListener('keydown', handleKey);
  
  delay();
  start();

  /*zoom thumbnail*/

   const thumbContainer = document.querySelector(".c-zoom");
  const thumbnailsList = thumbContainer.querySelector(".c-zoom__thumbnails-list");
  const zoomedImageContainer = thumbContainer.querySelector(".c-zoom__zoomed-image");
  const thumbnailLinks = Array.from(thumbContainer.querySelectorAll(".c-zoom__thumbnail-link"));
  
  const THUMBNAIL_IMG_CLASS = "c-zoom__thumbnail";
  const THUMBNAIL_LINK_CLASS = "c-zoom__thumbnail-link";
  
  let activeIndex = 0;
  
  zoomedImageContainer.style.backgroundImage = "url(" + thumbnailsList.querySelector("." + THUMBNAIL_IMG_CLASS).src + ")";

  function thumbnailOnClick(e) {
    let currentClicked = e.target;
    currentClicked = currentClicked.classList.contains(THUMBNAIL_LINK_CLASS) ?
                     currentClicked.firstElementChild : currentClicked;
    
    if(!currentClicked.classList.contains(THUMBNAIL_IMG_CLASS)) { return; }

    zoomedImageContainer.style.backgroundImage = "url(" + currentClicked.src + ")";

    //e.preventDefault(); // preventing click on the anchor <a>
  };
  
  
  function onMouseEnter(e) { 
    zoomedImageContainer.style.backgroundSize = "150%";
  };
  
  function onMouseLeave(e) {
    zoomedImageContainer.style.backgroundSize = "cover";
    zoomedImageContainer.style.backgroundPosition = "center";
  };
  
  function onMouseMove(e) {
    const zoomedElem = e.target;
    
    let mouseX = e.clientX || e.changedTouches[0].pageX;
    let mouseY = e.clientY || e.changedTouches[0].pageY;
    
    let moveX = Math.round(100 / (zoomedElem.clientWidth / mouseX));
    let moveY = Math.round(100 / (zoomedElem.clientHeight / mouseY));

    requestAnimationFrame(function() { setZoomedImagePosition(moveX, moveY) });
  };
  
  /*
  * Set Zoomed image's background position
  * @param {Number} x - X value for the background position.
  * @param {Number} y - Y value for the background position.
  */
  function setZoomedImagePosition(x, y) {
    zoomedImageContainer.style.backgroundPosition = x + "% " + y + "%"; 
  };

  thumbnailsList.addEventListener("click", thumbnailOnClick);
  
  zoomedImageContainer.addEventListener("mouseenter", onMouseEnter);
  zoomedImageContainer.addEventListener("mouseleave", onMouseLeave);
  zoomedImageContainer.addEventListener("mousemove", onMouseMove);
  
  zoomedImageContainer.addEventListener("touchstart", onMouseEnter);
  zoomedImageContainer.addEventListener("touchmove", onMouseMove);
   
  zoomedImageContainer.addEventListener("touchend", onMouseLeave);
  zoomedImageContainer.addEventListener("touchcancel", onMouseLeave);    

      </script>   
</body>
</html>