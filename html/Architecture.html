<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles/css/style.css">  
  <title>Architecture</title>
  <script>
      window.onload = function() {
          let element = document.createElement("script");
          element.src = "../scripts/before/main.js";
          document.body.appendChild(element);
          loaderbox.hidden = true;   
      };  
  </script>
</head>

<body>
    <div class="wrapsite">

    <header>
        <div class="shuffle reveal-photo-box">
            <img class="reveal-pic"  src="../img/cont/103.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/102.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/104.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/100.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/101.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/134.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/135.jpg" alt="">      
            <img class="reveal-pic"  src="../img/cont/129.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/130.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/131.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/132.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/133.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/119.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/120.jpg" alt="">
            <img class="reveal-pic"  src="../img/cont/122.jpg" alt="">     
    </div>
  <h2 class="header-title">Architecture</h2>    
  <button class="down-arrow" id="arrow-scrol-down">&#9650;</button>    
    </header> 
    
    <nav class="menu" id="navbox">
      <a class="flag-link" href="#"><img src="../img/bkg/czech-republic-flag640.png" class="flag-menu"></a>
        <div class="dropdownBackground">
          <span class="arrow"></span>
        </div>

        <ul class="submenu-box" id="menu-list">
          <li>
            <a href="">Geography</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">History</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">Citys</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">Nature</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
          <li>
            <a href="">Government</a>
            <div class="dropdown">
              <h4>Metropolises</h4>
              <a href="#">Prague</a>
              <a href="#">Brno</a>
              <a href="#">Link 3</a>
          <a href="#">Link 4</a>
            </div>
          </li>
        </ul>
      </nav>  

      <div class="segment-bg">
        <div class="segment-bg__item segment-bg__item--left-top"></div>
        <div class="segment-bg__item segment-bg__item--left-center"></div>
        <div class="segment-bg__item segment-bg__item--left-bottom"></div>
      </div>   

  <h3>Geography</h3>

  <p class="hidden">
      Prague is situated on the Vltava river, at 50°05"N and 14°27"E.[43] in the centre of the Bohemian Basin. Prague is approximately at the same latitude as Frankfurt, Germany;[44] Paris, France;[45] and Vancouver, Canada.[46]
  </p>

  <figure>
    <img class="contentimg align-right slide-in"  id="pic" src="../img/cont/146.jpg" alt="">
    <figcaption>TGM statue</figcaption>
  </figure>

   <p class="hidden">
      Prague has been a political, cultural and economic centre of central Europe complete with a rich history. Founded during the Romanesque and flourishing by the Gothic, Renaissance and Baroque eras, Prague was the capital of the kingdom of Bohemia and the main residence of several Holy Roman Emperors, most notably of Charles IV (r. 1346–1378).[9] It was an important city to the Habsburg Monarchy and its Austro-Hungarian Empire. The city played major roles in the Bohemian and Protestant Reformation, the Thirty Years' War and in 20th-century history as the capital of Czechoslovakia, during both World Wars and the post-war Communist era.</p>
  <h3>Stats</h3>   


  <figure>
    <img class="contentimg align-left slide-in"  id="pic" src="../img/cont/115.jpg" alt="">
    <figcaption>Chriby</figcaption>
  </figure>


        <p class="hidden">
            Prague (/prɑːɡ/; Czech: Praha [ˈpraɦa] (About this sound listen), German: Prag) is the capital and largest city in the Czech Republic, the 14th largest city in the European Union[7] and also the historical capital of Bohemia. Situated in the north-west of the country on the Vltava river, the city is home to about 1.3 million people, while its larger urban zone is estimated to have a population of 2.6 million.[8] The city has a temperate climate, with warm summers and chilly winters.</p>
   
  
  <h3>History</h3>

  <div class="album-cover-box">

      <div class="album-display">
      
          <div class="album-list picture-album" id="picture-conteiner">
          <div class="album-list__item picture-album-item jsListItem" data-index="0">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/150.jpg" alt=""/>
          </div>
                
          <div class="album-list__item picture-album-item jsListItem" data-index="1">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/151.jpg" alt=""/>
          </div>       
                    
          <div class="album-list__item picture-album-item jsListItem" data-index="2">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/152.jpg" alt=""/>
          </div> 
                
          <div class="album-list__item picture-album-item jsListItem" data-index="3">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/153.jpg" alt=""/>
          </div>   
                    
          <div class="album-list__item picture-album-item jsListItem" data-index="4">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/154.jpg" alt=""/>
          </div>         
                
          <div class="album-list__item picture-album-item jsListItem" data-index="5">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/155.jpg" alt=""/>
          </div>       
                    
          <div class="album-list__item picture-album-item jsListItem" data-index="6">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/156.jpg" alt=""/>
          </div>         
                
          <div class="album-list__item picture-album-item jsListItem" data-index="7">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/157.jpg" alt=""/>
          </div>       
                    
          <div class="album-list__item picture-album-item jsListItem" data-index="8">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/158.jpg" alt=""/>
          </div>         
                
          <div class="album-list__item picture-album-item jsListItem" data-index="9">
                 <img class="album-list__cover picture-album-cover" src="../img/cont/159.jpg" alt=""/>
          </div>
        </div>            
      </div>          
      
                <!--Controllers-->
         <div class="album__buttons">
            <button class="album__button album__button-direction album__button-direction--prev" id="btn-prev"></button>
            <button class="album__button album__button-direction album__button-direction--next" id="btn-next"></button>
         </div>
         
      </div>

    <figure>
      <img class="contentimg align-right slide-in"  id="pic" src="../img/cont/118.jpg" alt="">
      <figcaption>Vysehrad</figcaption>
    </figure>
          
    <p class="hidden">
        The city has many world-class museums, including the National Museum (Národní muzeum), the Museum of the Capital City of Prague, the Jewish Museum in Prague, the Alfons Mucha Museum, the African-Prague Museum, the Museum of Decorative Arts in Prague, the Náprstek Museum (Náprstkovo Muzeum), the Josef Sudek Gallery and The Josef Sudek Studio, the National Library and the National Gallery, which manages the largest collection of art in the Czech Republic.
        
        There are hundreds of concert halls, galleries, cinemas and music clubs in the city. It hosts music festivals including the Prague Spring International Music Festival, the Prague Autumn International Music Festival, the Prague International Organ Festival and the Prague International Jazz Festival. Film festivals include the Febiofest, the One World Film Festival and Echoes of the Karlovy Vary International Film Festival. The city also hosts the Prague Writers' Festival, the Prague Folklore Days, Prague Advent Choral Meeting the Summer Shakespeare Festival,[54] the Prague Fringe Festival, the World Roma Festival, as well as the hundreds of Vernissages and fashion shows.</p>  
  
    <div class="reveal-img-box">
        <img class="reveal-item"  id="pic" src="../img/cont/103.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/102.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/104.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/100.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/101.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/134.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/135.jpg" alt="">      
        <img class="reveal-item"  id="pic" src="../img/cont/129.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/130.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/131.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/132.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/133.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/119.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/120.jpg" alt="">
        <img class="reveal-item"  id="pic" src="../img/cont/122.jpg" alt="">          
    </div>

<footer>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2058314.3021129183!2d13.57809096500988!3d49.91064209129525!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470b948fd7dd8243%3A0xf8661c75d3db586f!2sCzechia!5e0!3m2!1sen!2scz!4v1526812826093"></iframe>
    <a href="http://www.checkczechia.cz/"><img src="../img/lgo/mapxflag.png" alt="map"></a>
    <a href="https://www.tripadvisor.com/Tourism-g274684-Czech_Republic-Vacations.html">tripadvisor.com</a>
    
</footer> 

    </div>  

    <div class="loader" id="loaderbox" >
      <div class="loader-inner">
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
          <div class="loader-line"></div>
        </div>
      </div>
    </div>    

    <button class="toTop" id="tiptop">&#9650;</button>

        <a class="toggle" href="#example" id="burger">☰</a>
      <div class="toggle-content" id="example">
<ul class="mobile-menu">
<li class="sub-list"> <h4>Geography</h4>
<ul class="sub-mobil-menu">
   <li><a href="">Czech republic1</a></li>
    <li><a href="">Czech republic2</a></li>
    <li><a href="">Czech republic3</a></li>
    <li><a href="">Czech republic4</a></li>
    <li><a href="">Czech republic5</a></li>    
</ul>
</li>  

<li class="sub-list"> <h4>History</h4>
    <ul class="sub-mobil-menu">
       <li><a href="">Czech republic1</a></li>
        <li><a href="">Czech republic2</a></li>
        <li><a href="">Czech republic3</a></li>
        <li><a href="">Czech republic4</a></li>
        <li><a href="">Czech republic5</a></li>    
    </ul>
    </li> 

<li class="sub-list"> <h4>Government</h4>
        <ul class="sub-mobil-menu">
           <li><a href="">Czech republic1</a></li>
            <li><a href="">Czech republic2</a></li>
            <li><a href="">Czech republic3</a></li>
            <li><a href="">Czech republic4</a></li>
            <li><a href="">Czech republic5</a></li>    
        </ul>
        </li> 

<li class="sub-list"> <h4>Travel</h4>
            <ul class="sub-mobil-menu">
               <li><a href="">Czech republic1</a></li>
                <li><a href="">Czech republic2</a></li>
                <li><a href="">Czech republic3</a></li>
                <li><a href="">Czech republic4</a></li>
                <li><a href="">Czech republic5</a></li>    
            </ul>
            </li> 
 
</ul>
      </div>
<script>
/*textshadow*/

const hero = document.querySelector('header');
const text = hero.querySelector('.header-title');
const walk = 8;
    
function shadow(e) {
const width = hero.offsetWidth;  
const height = hero.offsetHeight;  
let x = e.offsetX;
let y = e.offsetY;    

    if(this !== e.target) {
x = x + e.target.offsetLeft;
y = y + e.target.offsetTop;        
    }
    
const xWalk = Math.round((x / width * walk) - (walk/2));
const yWalk =  Math.round((y / height * walk) - (walk/2));     
text.style.textShadow = `
${xWalk}px ${yWalk}px 0 hsla(211, 76%, 28%,1),
${yWalk}px ${xWalk * -1}px 0 hsla(358, 83%, 46%,1)
`;
}    
    
hero.addEventListener('mousemove', shadow);    

/*random stacked images*/

function getRandom(min, max) {
  return Math.random() * (max - min) + min;
}

let reveal = document.querySelector(".reveal-photo-box");
reveal.classList.remove("reveal-photo-box");
let revealedImages = reveal.querySelectorAll(".reveal-pic"),
i = 1;

    function openModalPic(e) {
    if(e.target.classList.contains('reveal-pic')) {
    e.target.classList.toggle('full-screen-pic'); 
    }
    }
    reveal.addEventListener('click', openModalPic);

function racknstack() {
  Array.prototype.forEach.call(revealedImages, function(photo) { 
      setTimeout(function(){ photo.style.position = "absolute";
photo.style.width = getRandom(33,45)+"%";
photo.style.left = getRandom(-15,65)+"%";
photo.style.top = getRandom(-6,60)+"vh";
photo.classList.add("expose");
var animate = photo.animate([
    { opacity: '0', transform: 'rotate('+getRandom(-20,20)+'deg) scale(1.5)', boxShadow: '0 0 12px 12px rgba(0,0,0,.3)' },
    { opacity: '1', transform: 'rotate('+getRandom(-10,10)+'deg)', boxShadow: '0 0 6px 6px rgba(0,0,0,.3)' }
  ], {
    duration: 1000,
  fill: 'forwards'
  });                    
 }, 1500*i)
i++;
})
}
racknstack ();

/*reveal on mouseover*/

    const imageGalery = document.querySelector('.reveal-img-box');

function showOnLoad(e) {
  let revealmoveItems = document.querySelectorAll(".reveal-img-box img"), revealTime = 1;
  Array.prototype.forEach.call(revealmoveItems, function(revealItem) { 
	setTimeout(function(){ revealItem.classList.add("img-visible") }, 100 * revealTime)
  revealTime++;
})
imageGalery.removeEventListener('mouseover', showOnLoad);
}
    function openModalImg(e) {
    if(e.target.classList.contains('img-visible')) {
    e.target.classList.toggle('full-screen-img'); 
    }
    }
    imageGalery.addEventListener('mouseover', showOnLoad);
    imageGalery.addEventListener('click', openModalImg);

/*picture album*/

 const pictureConteiner = document.getElementById("picture-conteiner");
    let albumListItems = null;
  
    const btnsController = document.querySelector(".album__buttons");  
    const btnNext = btnsController.querySelector("#btn-next");
    const btnPrev = btnsController.querySelector("#btn-prev");
  
    let listItemWidth = null;

    let listOffsetDimension = null;
   
    const LIST_ITEM_CLASS = "jsListItem";
    const LIST_ITEM_ACTIVE_CLASS = "is-active";
    const LIST_ITEM_HIDDEN_CLASS = "is-hidden";
  
    let currentActiveListItem = null;
  
    let isUserAction = false; // is this particular action was made by the user interaction (e.g. mouse move, keyboard click, etc...)
    let isUserAdjusting = false; // when user adjust track position manually
  
    let albumCounter = 0;


    
    // Setup
    document.addEventListener("DOMContentLoaded", onDomContentLoaded);
    
    btnsController.addEventListener("click", onBtnsControllerClick);
  
    pictureConteiner.addEventListener("wheel", actThenThrottleEvents(onMouseWheelMove, 150));
  
    ///pictureConteiner.addEventListener("touchstart", onMouseWheelMove);
  
 /*============================*\
           EVENTS
 /*============================*/
  /// add touch events to the songList
  swipeDetect(pictureConteiner, onpictureConteinerTouch);
  
  
  function onpictureConteinerTouch (swipedir) {
    let btnToTrigger;
    
    if(swipedir === "down") {
      btnToTrigger = btnNext;
    } else if (swipedir === "up") {
      btnToTrigger = btnPrev;
    }
    
    if(btnToTrigger)
      btnToTrigger.click();
  };
  
  
  function onMouseWheelMove (e) {
    //debugger;
    const direction = e.deltaY;
    const btnToTrigger = direction >= 0 ? btnNext : btnPrev;
    
    btnToTrigger.click();
    e.preventDefault();
    e.stopImmediatePropagation();
  };


   function onDomContentLoaded(e) {
 
     albumListItems = pictureConteiner.querySelectorAll(".album-list__item");
     const firstListItem = albumListItems[0];
     
     firstListItem.classList.add(LIST_ITEM_ACTIVE_CLASS);
     
     /// set initial value of the currentActiveListItem
     currentActiveListItem = firstListItem;
     
     const listItemStyle = window.getComputedStyle(firstListItem);
     const listItemMarginLeft = parseInt(listItemStyle.marginLeft);
     const listItemMarginRight = parseInt(listItemStyle.marginRight);
     
     const listItemTransform = listItemStyle.transform;
 
     albumListItems.forEach(function (listItem) {
       listItem.style.transform = listItemTransform;
     });

     listItemWidth = firstListItem.offsetWidth + listItemMarginLeft + listItemMarginRight;
     listOffsetDimension = listItemWidth; // initial value

   };
 
    function onBtnsControllerClick (e) {
        const currentClickedElem = e.target;
        const currentClickedElemID = currentClickedElem.id;
 
        let newActiveListItem;  
    
        if(currentClickedElemID === "btn-next" || currentClickedElemID === "btn-prev") {
      
            if(currentClickedElemID === "btn-next") {
                albumCounter += 1;
            } else {
                albumCounter -= 1;
            }
      
            if(albumCounter >= albumListItems.length) {
                albumCounter = albumListItems.length - 1;
                //listOffsetDimension = ((albumListItems.length - 1) * listItemWidth) * -1; // start of the list 
              return;
            } else if (albumCounter < 0) {
                albumCounter = 0;
                return;
            } 
      
           // set new active list item (the next one on the list)
            newActiveListItem = albumListItems[albumCounter];
            
            /**/ 
        };
        //debugger;
        switch(currentClickedElemID) {
            case "btn-next":
     
              currentActiveListItem.classList.remove(LIST_ITEM_ACTIVE_CLASS);
            
              currentActiveListItem.style.transform += " rotateX(-90deg)";
            
              moveListItems(listOffsetDimension, albumListItems);

              newActiveListItem.classList.add(LIST_ITEM_ACTIVE_CLASS);
            
              currentActiveListItem = newActiveListItem;
                break;
            case "btn-prev":
                         
                currentActiveListItem.classList.remove(LIST_ITEM_ACTIVE_CLASS);
            
                // newActiveListItem.classList.remove(LIST_ITEM_HIDDEN_CLASS);
            
                newActiveListItem.style.transform = newActiveListItem.style.transform.replace(/rotateX\(([^)])+\)/, "");
            
                newActiveListItem.classList.add(LIST_ITEM_ACTIVE_CLASS);
            
                moveListItems(-listOffsetDimension, albumListItems);

            
                currentActiveListItem = newActiveListItem;
                break;
            default:
                break;
        };
    
    };

    function moveListItems (distance, listItems, excludeSelector) {
      listItems.forEach(function(listItem, i) {
        ///debugger;
        if(!listItem.matches(excludeSelector))
            moveListItem(distance, listItem);
      });
    };
 
    function moveListItem (distance, listItem) {
        const prevDistanceValue = listItem.style.transform.match(/(?:translateZ\()(-?(\d)+)(?=px\))/); // gets number (with the  
      let currentTransformValue = listItem.style.transform;
 
        if(prevDistanceValue) {
            distance += parseFloat(prevDistanceValue[1]);
            currentTransformValue = currentTransformValue.replace(/translateZ\(([^)])+\)/, "translateZ(" + distance + "px)");
        } else {
          currentTransformValue += " translateZ(" + distance + "px)";
        }
       
      listItem.style.transform = currentTransformValue;
    };
 
    function actThenThrottleEvents(listener, delay) {
      var timeout;
      return function(e) {
        if (!timeout) { // no timer running
          listener(e); // run the function
          timeout = setTimeout( function() { timeout = null }, 
            delay); // start a timer that turns itself off when it's done
        }  
        //else, do nothing (we're in a throttling stage)
      }
    };
 
    function swipeDetect (el, callback){

      var touchsurface = el,
      swipedir,
      startX,
      startY,
      distX,
      distY,
      threshold = 100, //required min distance traveled to be considered swipe (prev val: 150)
      restraint = 100, // maximum distance allowed at the same time in perpendicular direction
      allowedTime = 300, // maximum time allowed to travel that distance
      elapsedTime,
      startTime,
      handleswipe = callback || function(swipedir){}
 
      touchsurface.addEventListener('touchstart', function(e){
          var touchobj = e.changedTouches[0];
          swipedir = 'none';
          startX = touchobj.pageX;
          startY = touchobj.pageY;
          startTime = new Date().getTime(); // record time when finger first makes contact with surface
          e.preventDefault();
      }, false)

      touchsurface.addEventListener('touchmove', function(e){
          e.preventDefault(); // prevent scrolling when inside HTML Element
      }, false)

      touchsurface.addEventListener('touchend', function(e){
          var touchobj = e.changedTouches[0];
          distX = touchobj.pageX - startX; // get horizontal dist traveled by finger while in contact with surface
          distY = touchobj.pageY - startY; // get vertical dist traveled by finger while in contact with surface
          elapsedTime = new Date().getTime() - startTime; // get time elapsed
          if (elapsedTime <= allowedTime) { // first condition for swipe met
              if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint){ // 2nd condition for horizontal swipe met
                  swipedir = (distX < 0) ? 'left' : 'right'; // if dist traveled is negative, it indicates left swipe
              }
              else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint){ // 2nd condition for vertical swipe met
                  swipedir = (distY < 0) ? 'up' : 'down'; // if dist traveled is negative, it indicates up swipe
              }
          }
          handleswipe(swipedir);
          e.preventDefault();
      }, false)
  };
 
    </script>
</body>
</html>